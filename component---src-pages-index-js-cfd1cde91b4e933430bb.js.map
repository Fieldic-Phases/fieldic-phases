{"version":3,"file":"component---src-pages-index-js-cfd1cde91b4e933430bb.js","mappings":"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","sources":["webpack://the-fieldic-phases/./src/constants.js","webpack://the-fieldic-phases/./src/compute-phase.js","webpack://the-fieldic-phases/./src/components/phase-table.js","webpack://the-fieldic-phases/./src/pages/index.js"],"sourcesContent":["import {StaticImage} from \"gatsby-plugin-image\";\nimport * as React from \"react\"\n\nexport const epoch = -770947200000; // jim davis' birthday\n\nexport const phases = {\n    garfield: {\n        image: () => {\n            return <StaticImage src={\"./images/garfield.jpg\"}/>\n        },\n        description: \"The garfield phase\",\n        title: \"Garfield\"\n    },\n    odie: {\n        image: () => {\n            return <StaticImage src={\"./images/odie.png\"}/>\n        },\n        description: \"The odie phase\",\n        title: \"Odie\"\n    },\n    jon: {\n        image: () => {\n            return <StaticImage src={\"./images/jon.png\"}/>\n        },\n        description: \"The jon phase\",\n        title: \"Jon Arbuckle\"\n    },\n    nermal: {\n        image: () => {\n            return <StaticImage src={\"./images/nermal.jpg\"}/>\n        },\n        description: \"The nermal phase\",\n        title: \"Nermal\"\n    },\n    drliz: {\n        image: () => {\n            return <StaticImage src={\"./images/drliz.jpeg\"}/>\n        },\n        description: \"The Dr Liz Wilson phase\",\n        title: \"Dr. Liz Wilson\"\n    },\n    arlene: {\n        image: () => {\n            return <StaticImage src={\"./images/arlene.png\"}/>\n        },\n        title: \"Arlene\",\n        description: \"The Arlene phase\"\n    },\n    pookie: {\n        image: () => {\n            return <StaticImage src={\"./images/pookie.jpeg\"}/>\n        },\n        title: \"Pookie\",\n        description: \"The pookie phase\"\n    }\n};\n\nexport const PHASE = [\n    {\n        key: \"garfield\",\n        number: 0\n    },\n    {\n        key: \"odie\",\n        number: 4\n    },\n    {\n        key: \"nermal\",\n        number: 1\n    },\n    {\n        key: \"jon\",\n        number: 2\n    },\n    {\n        key: \"arlene\",\n        number: 3\n    },\n    {\n        key: \"drliz\",\n        number: 5\n    },\n    {\n        key: \"pookie\",\n        number: 6\n    }\n];\n","import {PHASE} from \"./constants\";\n\nconst DAYS = 1000 * 60 * 60 * 24;\nconst PERIOD = PHASE.length * 2;\n\nexport const computePhaseData = (from, epoch) => {\n    const daysSince = Math.floor((from - epoch) / DAYS);\n    const fullCycles = daysSince / PERIOD;\n    const currentCycle = fullCycles - Math.floor(fullCycles);\n    const currentPhase = currentCycle * PHASE.length;\n    const nextGarfield = (PHASE.length - currentPhase) * 2;\n    const phaseKey = [...PHASE].sort((a, b) => a.number - b.number)[Math.floor(currentPhase)].key;\n\n    return {\n        fullCycles,\n        currentCycle,\n        currentPhase,\n        nextGarfield,\n        phaseKey\n    }\n};\n","import React, {useState} from \"react\"\nimport {computePhaseData} from \"../compute-phase\";\nimport {epoch, phases} from \"../constants\";\n\nconst daysBetween = (start, end) => {\n    const s = new Date(start).getTime();\n    const e = new Date(end).getTime();\n\n    const max = Math.max(s, e);\n    const min = Math.min(s, e);\n\n    const days = Math.floor((max - min) / (1000 * 60 * 60 * 24)) + 1;\n\n    console.log({start, end, max, min, days});\n\n    return days;\n};\n\nexport const PhaseTable = () => {\n    const minDate = \"1945-07-28\";\n    const today = new Date().toISOString().split(\"T\")[0];\n    const [startDate, setStartDate] = useState(today);\n    const [endDate, setEndDate] = useState(today);\n\n    return (\n        <>\n            <div className='date-picker'>\n                <div className=\"date\">\n                    <label htmlFor={'start-date'}>From</label>\n                    <input\n                        type={'date'}\n                        id=\"start-date\"\n                        value={startDate}\n                        min={minDate}\n                        onChange={(x) => {\n                            setStartDate(x.target.value);\n                        }}\n                    />\n                </div>\n\n                <div className='date'>\n                    <label htmlFor={'end-date'}>To</label>\n                    <input\n                        type={'date'}\n                        id=\"end-date\"\n                        value={endDate}\n                        min={startDate}\n                        onChange={(x) => {\n                            setEndDate(x.target.value);\n                        }}\n                    />\n                </div>\n            </div>\n\n\n\n            <table>\n                <tr>\n                    <th>Date</th>\n                    <th>Phase</th>\n                </tr>\n                {\n                    Array(daysBetween(startDate, endDate)).fill(0).map((_, idx) => {\n                        const day = new Date(startDate).getTime() + (24 * 60 * 60 * 1000)*(idx-1);\n                        const next = new Date(day);\n                        const {phaseKey} = computePhaseData(next.getTime(), epoch);\n\n                        return (<tr>\n                                <td>{next.toISOString().split(\"T\")[0]}</td>\n                                <td>{phases[phaseKey].title}</td>\n                            </tr>\n                        )\n                    })\n                }\n            </table>\n        </>\n    )\n};\n","import * as React from \"react\"\nimport {PhaseTable} from \"../components/phase-table\";\nimport {epoch, phases} from \"../constants\";\nimport {computePhaseData} from \"../compute-phase\";\nimport \"../styles.css\";\n\n\n// markup\nconst IndexPage = () => {\n    const {phaseKey, fullCycles, nextGarfield} = computePhaseData(Date.now(), epoch);\n    console.log(nextGarfield)\n  const currentPhase = phases[phaseKey];\n\n  return (\n    <main>\n     <h1>The Fieldic Phase</h1>\n        <p>For past ( and future! ) Fieldic Planning.</p>\n      <section>\n          {currentPhase.image()}\n        <h2>The current phase is {currentPhase.title}.</h2>\n        <p>{currentPhase.description}</p>\n      </section>\n        <section>\n            <h2>Fun Facts</h2>\n            <ol>\n                <li>There have been <em>{Math.floor(fullCycles)} Garfields</em> since Jim Davis was born!</li>\n                <li>The next Garfield is in <em>{nextGarfield.toFixed(2)} days!</em></li>\n                <li>The Odie phase is a time for silent reflection</li>\n            </ol>\n        </section>\n      <section>\n          <h2>Past and Future Fieldic Phases</h2>\n          <p>Pick some dates, it's fun!</p>\n          <PhaseTable/>\n      </section>\n    </main>\n  )\n};\n\nexport default IndexPage\n"],"names":["epoch","phases","garfield","image","S","src","description","title","odie","jon","nermal","drliz","arlene","pookie","PHASE","key","number","PERIOD","length","computePhaseData","from","fullCycles","Math","floor","currentCycle","currentPhase","nextGarfield","phaseKey","sort","a","b","PhaseTable","start","end","s","e","max","min","days","today","Date","toISOString","split","useState","startDate","setStartDate","endDate","setEndDate","className","htmlFor","type","id","value","onChange","x","target","Array","getTime","console","log","fill","map","_","idx","day","next","now","toFixed"],"sourceRoot":""}